<h1 *ngIf="isAddMode">Add book</h1>
<h1 *ngIf="!isAddMode">Edit book</h1>

<div *ngIf="!isDataLoaded" class="col-6 text-center pt-5">
  <div class="spinner-border text-primary">
    <span class="sr-only">Loading...</span>
  </div>
</div>
<form *ngIf="isDataLoaded" [formGroup]="form" (ngSubmit)="onSubmit()">
  <div class="card p-4 col-6">

    <div class="form-row">

      <div class="form-group col-12">
        <label>Title</label>
        <input type="text" formControlName="title" class="form-control" />
      </div>

      <div class="form-group col-12">
        <label>Description</label>
        <input type="text" formControlName="description" class="form-control" />
      </div>

      <div class="form-group col-12">
        <label>Genre</label>
        <select formControlName="genre" class="form-control">
          <option *ngFor="let g of genres | keys" [value]="g.value">{{ g.value | titlecase }}</option>
        </select>
      </div>

      <div class="form-group col-12">
        <label>Author</label>
        <select formControlName="authorId" class="form-control">
          <option *ngFor="let a of authors" [value]="a.id">{{ a.firstName }} {{ a.lastName }}</option>
        </select>
      </div>

    </div>

    <hr>

    <div class="form-group">
      <button class="btn btn-primary">Save</button>
      <a routerLink="" class="btn btn-link">Cancel</a>
    </div>

  </div>
</form>
